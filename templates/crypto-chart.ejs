<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crypto Chart - <%= symbol %></title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #0A3D62; /* Greenish Blueish Black */
            color: #FFFFFF; /* White */
            margin: 0;
            padding: 0;
        }
        .banner {
            background-color: #000000; /* Black */
            color: #FFFFFF; /* White */
            height: 50px; /* Set a fixed height */
            text-align: center;
            width: 100%; /* Spread across the page width */
            box-sizing: border-box; /* Include padding in the element's total width and height */
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0; /* Remove default margin */
            position: relative;
        }
        .banner img {
            position: absolute;
            top: 10px; /* Drop the image down a bit */
            right: 10px; /* Keep the image in the top right corner */
            height: 50px; /* Match the banner height */
        }
        .navbar {
            background-color: #000000; /* Black */
            overflow: hidden;
            width: 100%; /* Spread across the page width */
            box-sizing: border-box; /* Include padding in the element's total width and height */
            display: flex;
            align-items: center;
        }
        .navbar a {
            float: left;
            display: block;
            color: #FFFFFF; /* White */
            text-align: center;
            padding: 14px 16px;
            text-decoration: none;
        }
        .navbar a:hover, .navbar a.active {
            background-color: #228B22; /* Forest Green */
            color: #FFFFFF; /* White */
        }
        .search-container {
            margin-left: auto;
            padding: 14px 16px;
        }
        .search-container input[type="text"] {
            padding: 6px;
            margin-top: 8px;
            font-size: 17px;
            border: none;
        }
        .search-container button {
            padding: 6px 10px;
            margin-top: 8px;
            margin-right: 16px;
            background: #228B22; /* Forest Green */
            color: #FFFFFF; /* White */
            font-size: 17px;
            border: none;
            cursor: pointer;
        }
        .search-container button:hover {
            background: #1e7b1e; /* Darker Forest Green */
        }
        .crypto-chart {
            width: 60%; /* Increase the width */
            height: 640px; /* Decrease the height */
            margin: 40px auto; /* Center the chart and move it down */
        }
        .crypto-analytics {
            width: 60%; /* Match the width of the chart */
            margin: 20px auto; /* Center the analytics and add some margin */
        }
    </style>
</head>
<body>
    <div class="banner">
        <h1>SVD Inc.</h1>
        <img src="/images/logo.png" alt="Logo"> <!-- Ensure the path is correct -->
    </div>
    <div class="navbar">
        <a href="/" class="active">Home</a>
        <a href="/correspondent">Correspondent</a> <!-- Move Correspondent to the navbar -->
        <div class="search-container">
            <form action="/search">
                <input type="text" placeholder="Search.." name="search">
                <button type="submit">Search</button>
            </form>
        </div>
    </div>
    <div class="crypto-chart">
        <!-- TradingView Widget BEGIN -->
        <div class="tradingview-widget-container">
            <div id="tradingview_<%= symbol %>"></div>
            <script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
            <script type="text/javascript">
                new TradingView.widget({
                    "width": "100%",
                    "height": 640,
                    "symbol": "BINANCE:<%= symbol %>",
                    "interval": "D",
                    "timezone": "Etc/UTC",
                    "theme": "dark", /* Darker theme */
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#0A3D62", /* Match the background color */
                    "backgroundColor": "rgba(0, 0, 0, 0)", /* Make the chart background transparent */
                    "enable_publishing": false,
                    "allow_symbol_change": true,
                    "container_id": "tradingview_<%= symbol %>"
                });
            </script>
        </div>
        <!-- TradingView Widget END -->
    </div>
    <div class="crypto-analytics">
        <!-- TradingView Technical Analysis Widget BEGIN -->
        <div class="tradingview-widget-container">
            <div id="technical-analysis_<%= symbol %>"></div>
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js"></script>
            <script type="text/javascript">
                new TradingView.widget({
                    "width": "100%",
                    "height": 400,
                    "symbol": "BINANCE:<%= symbol %>",
                    "interval": "1D",
                    "timezone": "Etc/UTC",
                    "theme": "dark",
                    "style": "1",
                    "locale": "en",
                    "toolbar_bg": "#0A3D62",
                    "backgroundColor": "rgba(0, 0, 0, 0)",
                    "container_id": "technical-analysis_<%= symbol %>"
                });
            </script>
        </div>
        <!-- TradingView Technical Analysis Widget END -->
    </div>
</body>
</html>
